<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Profil</title>
</head>
<body>

<h2>Profilim</h2>
<div id="myPosts"></div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
import { getAuth } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-auth.js";
import { getFirestore, collection, getDocs, query, where } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-firestore.js";

const firebaseConfig = {
 apiKey: "AIzaSyC4SCzN-hYyr_sTPv7gHdNmdCW8fcQEahc",
 authDomain: "instafatih-28213.firebaseapp.com",
 projectId: "instafatih-28213"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

auth.onAuthStateChanged(async user => {
 if (!user) return;

 const q = query(collection(db,"posts"), where("uid","==",user.uid));
 const snap = await getDocs(q);

 snap.forEach(doc => {
   const p = doc.data();
   document.getElementById("myPosts").innerHTML += `
     <img src="${p.imgURL}" width="100"><br>
     <p>${p.caption}</p><hr>
   `;
 });
});
</script>

</body>
</html>